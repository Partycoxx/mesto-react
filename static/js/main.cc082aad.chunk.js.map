{"version":3,"sources":["utils/Api.js","contexts/CurrentUserContext.js","components/Header.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ImagePopup.js","components/App.js","index.js","images/icons/logo.svg"],"names":["request","baseUrl","headers","this","_baseUrl","_headers","res","ok","json","Promise","reject","status","fetch","method","then","_response","name","about","body","JSON","stringify","dataName","dataLink","link","_id","card","isLiked","_dislikeCard","_likeCard","avatarLink","avatar","authorization","CurrentUserContext","createContext","Header","className","src","logo","alt","Card","cardClickHandler","likeClickHandler","deleteClickHandler","currentUserId","useContext","isOwner","owner","likes","some","item","cardLikeButtonClassName","onClick","type","aria-label","length","Main","onEditProfile","onAddPlace","onEditAvatar","onCardClick","cards","onCardLike","onCardDelete","description","map","items","key","Footer","PopupWithForm","title","children","isOpen","onClosePopup","onSubmit","action","EditProfilePopup","onClose","onUpdateUser","currentUser","useState","setName","setDescription","handleChange","e","target","value","useEffect","editProfileFormContent","id","onChange","placeholder","minLength","maxLength","required","noValidate","preventDefault","EditAvatarPopup","onUpdateAvatar","inputRef","useRef","addAvatarFormContent","ref","current","AddPlacePopup","onAddNewPlace","setTitle","setLink","addPlaceFormContent","ImagePopup","App","isEditProfilePopupOpen","setEditProfilePopupState","isAddPlacePopupOpen","setAddPlacePopupState","isEditAvatarPopupOpen","setEditAvatarPopupState","undefined","selectedCard","setSelectedCard","setCards","setCurrentUser","closeAllPopups","all","getUserData","getCardList","userData","cardList","catch","err","console","log","Provider","i","changeLike","newCard","newCards","c","deleteCard","data","filter","newUserData","editUserInfo","newAvatarLink","addUserAvatar","newCardData","addNewCard","ReactDOM","render","StrictMode","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.cc082aad.chunk.js","sourcesContent":["class Api {\r\n  constructor({ baseUrl, headers }) {\r\n    this._baseUrl = baseUrl;\r\n    this._headers = headers;\r\n  }\r\n\r\n  _response(res) {\r\n    if (res.ok) {\r\n      return res.json();\r\n    } else {\r\n      return Promise.reject(`Ошибка: ${res.status}`);\r\n    }\r\n  }\r\n\r\n  getUserData() {\r\n    return fetch(`${this._baseUrl}/users/me`, {\r\n      method: \"GET\",\r\n      headers: this._headers,\r\n    }).then((res) => this._response(res));\r\n  }\r\n\r\n  getCardList() {\r\n    return fetch(`${this._baseUrl}/cards`, {\r\n      method: \"GET\",\r\n      headers: this._headers,\r\n    }).then((res) => this._response(res));\r\n  }\r\n\r\n  editUserInfo({ name, about }) {\r\n    return fetch(`${this._baseUrl}/users/me`, {\r\n      method: \"PATCH\",\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name,\r\n        about,\r\n      }),\r\n    }).then((res) => this._response(res));\r\n  }\r\n\r\n  addNewCard({ dataName, dataLink }) {\r\n    return fetch(`${this._baseUrl}/cards`, {\r\n      method: \"POST\",\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name: dataName,\r\n        link: dataLink,\r\n      }),\r\n    }).then((res) => this._response(res));\r\n  }\r\n\r\n  deleteCard({ _id }) {\r\n    return fetch(`${this._baseUrl}/cards/${_id}`, {\r\n      method: \"DELETE\",\r\n      headers: this._headers,\r\n    }).then((res) => this._response(res));\r\n  }\r\n\r\n  changeLike(card, isLiked) {\r\n    return isLiked ? this._dislikeCard(card) : this._likeCard(card);\r\n  }\r\n\r\n  _likeCard({ _id }) {\r\n    return fetch(`${this._baseUrl}/cards/likes/${_id}`, {\r\n      method: \"PUT\",\r\n      headers: this._headers,\r\n    }).then((res) => this._response(res));\r\n  }\r\n\r\n  _dislikeCard({ _id }) {\r\n    return fetch(`${this._baseUrl}/cards/likes/${_id}`, {\r\n      method: \"DELETE\",\r\n      headers: this._headers,\r\n    }).then((res) => this._response(res));\r\n  }\r\n\r\n  addUserAvatar({ avatarLink }) {\r\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\r\n      method: \"PATCH\",\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        avatar: avatarLink,\r\n      }),\r\n    }).then((res) => this._response(res));\r\n  }\r\n}\r\n\r\nconst request = new Api({\r\n  baseUrl: \"https://mesto.nomoreparties.co/v1/cohort-15\",\r\n  headers: {\r\n    authorization: \"1fc0b639-a579-4abe-9981-a2f8e932c357\",\r\n    \"Content-Type\": \"application/json\",\r\n  },\r\n});\r\n\r\nexport default request;\r\n","import { createContext } from 'react';\r\n\r\nexport const CurrentUserContext = createContext();","import React from 'react';\r\nimport logo from '../images/icons/logo.svg';\r\n\r\nfunction Header() {\r\nreturn (\r\n<header className=\"header narrow\">\r\n    <img className=\"logo logo_position_header\" src={logo} alt=\"Логотип проекта\" />\r\n\r\n</header>\r\n)\r\n}\r\n\r\nexport default Header;","import React, { useContext } from \"react\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\n\r\nfunction Card({\r\n  card,\r\n  cardClickHandler,\r\n  likeClickHandler,\r\n  deleteClickHandler,\r\n}) {\r\n  const { currentUserId } = useContext(CurrentUserContext);\r\n  const isOwner = card.owner._id === currentUserId;\r\n  const isLiked = card.likes.some((item) => item._id === currentUserId);\r\n  const cardLikeButtonClassName = `button card__like-button change-opacity ${\r\n    isLiked && \"card__like-button_type_liked\"\r\n  }`;\r\n\r\n  function handleClick() {\r\n    cardClickHandler(card);\r\n  }\r\n\r\n  function handleLikeClick() {\r\n    likeClickHandler(card);\r\n  }\r\n\r\n  function handleDeleteClick() {\r\n    deleteClickHandler(card);\r\n  }\r\n\r\n  return (\r\n    <li className=\"card\">\r\n      {isOwner && (\r\n        <button\r\n          className=\"button card__button-trash change-opacity\"\r\n          onClick={handleDeleteClick}\r\n          type=\"button\"\r\n          aria-label=\"Удалить фото\"\r\n        ></button>\r\n      )}\r\n      <img\r\n        className=\"card__image\"\r\n        src={card.link}\r\n        alt={`На фото: ${card.name}`}\r\n        onClick={handleClick}\r\n      />\r\n      <div className=\"card__content\">\r\n        <h2 className=\"card__heading\">{card.name}</h2>\r\n        <div className=\"card__like-container\">\r\n          <button\r\n            className={cardLikeButtonClassName}\r\n            onClick={handleLikeClick}\r\n            type=\"button\"\r\n            aria-label=\"Оценить фото\"\r\n          ></button>\r\n          <p className=\"card__like-counter\">{card.likes.length}</p>\r\n        </div>\r\n      </div>\r\n    </li>\r\n  );\r\n}\r\n\r\nexport default Card;\r\n","import React, { useContext } from \"react\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\nimport Card from \"./Card\";\r\n\r\nfunction Main({\r\n  onEditProfile,\r\n  onAddPlace,\r\n  onEditAvatar,\r\n  onCardClick,\r\n  cards,\r\n  onCardLike,\r\n  onCardDelete,\r\n}) {\r\n  const { name, description, avatar } = useContext(CurrentUserContext);\r\n\r\n  return (\r\n    <main className=\"main narrow\">\r\n      <section className=\"profile\">\r\n        <div className=\"profile__data\">\r\n          <div className=\"profile__pic-container\">\r\n            <img\r\n              className=\"profile__pic\"\r\n              src={\r\n                avatar\r\n                  ? avatar\r\n                  : \"https://upload.wikimedia.org/wikipedia/commons/thumb/7/71/Black.png/220px-Black.png\"\r\n              }\r\n              alt=\"Фото профиля\"\r\n            />\r\n            <div className=\"profile__pic-overlay\" onClick={onEditAvatar}></div>\r\n          </div>\r\n          <div className=\"profile__container\">\r\n            <h1 className=\"profile__title\">{name}</h1>\r\n            <button\r\n              className=\"button profile__edit-button change-opacity\"\r\n              aria-label=\"Редактировать\"\r\n              type=\"button\"\r\n              onClick={onEditProfile}\r\n            ></button>\r\n            <p className=\"profile__subtitle\">{description}</p>\r\n          </div>\r\n        </div>\r\n        <button\r\n          className=\"button profile__add-button change-opacity\"\r\n          aria-label=\"Добавить фото\"\r\n          type=\"button\"\r\n          onClick={onAddPlace}\r\n        ></button>\r\n      </section>\r\n\r\n      <section className=\"photo-grid\">\r\n        <ul className=\"photo-grid__list\">\r\n          {cards.map((items) => (\r\n            <Card\r\n              card={items}\r\n              key={items._id}\r\n              cardClickHandler={onCardClick}\r\n              likeClickHandler={onCardLike}\r\n              deleteClickHandler={onCardDelete}\r\n            />\r\n          ))}\r\n        </ul>\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Main;\r\n","import React from 'react'; \r\n\r\nfunction Footer() {\r\nreturn (\r\n    <footer className=\"footer narrow\">\r\n        <p className=\"footer__text\">© 2020 Mesto Russia</p>\r\n    </footer>\r\n)\r\n}\r\n\r\nexport default Footer;","import React from \"react\";\r\n\r\nfunction PopupWithForm({\r\n  title,\r\n  name,\r\n  children,\r\n  isOpen,\r\n  onClosePopup,\r\n  onSubmit,\r\n}) {\r\n  return (\r\n    <div\r\n      className={`popup popup_type_${name} ` + (isOpen ? \"popup_opened\" : \"\")}\r\n    >\r\n      <div className=\"popup__container popup__container_type_modal\">\r\n        <h2 className=\"popup__heading\">{title}</h2>\r\n        <form\r\n          className=\"popup__form\"\r\n          action=\"#\"\r\n          name={name}\r\n          method=\"post\"\r\n          onSubmit={onSubmit}\r\n        >\r\n          {children}\r\n          <button\r\n            className=\"button popup__button\"\r\n            type=\"submit\"\r\n            name=\"save-button\"\r\n          >\r\n            Сохранить\r\n          </button>\r\n        </form>\r\n        <button\r\n          className=\"button popup__close-button change-opacity\"\r\n          type=\"button\"\r\n          aria-label=\"Закрыть окно\"\r\n          onClick={onClosePopup}\r\n        ></button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PopupWithForm;\r\n","import React, { useState, useContext, useEffect } from \"react\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nexport default function EditProfilePopup({ isOpen, onClose, onUpdateUser }) {\r\n  const currentUser = useContext(CurrentUserContext);\r\n  const [name, setName] = useState(\"\");\r\n  const [description, setDescription] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    setName(currentUser.name);\r\n    setDescription(currentUser.description);\r\n  }, [currentUser]);\r\n\r\n  function handleChange(e) {\r\n    e.target.name === \"description\"\r\n      ? setDescription(e.target.value)\r\n      : setName(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    onUpdateUser({\r\n      name,\r\n      about: description,\r\n    });\r\n  }\r\n\r\n  const editProfileFormContent = (\r\n    <>\r\n      <input\r\n        className=\"popup__input popup__input_type_name\"\r\n        id=\"input-name\"\r\n        type=\"text\"\r\n        name=\"name\"\r\n        value={name || \"\"}\r\n        onChange={handleChange}\r\n        placeholder=\"Кто вы?\"\r\n        minLength=\"2\"\r\n        maxLength=\"40\"\r\n        required\r\n        noValidate\r\n      />\r\n      <span className=\"popup__input-error\" id=\"input-name-error\"></span>\r\n      <input\r\n        className=\"popup__input popup__input_type_about\"\r\n        id=\"input-about\"\r\n        type=\"text\"\r\n        name=\"description\"\r\n        value={description || \"\"}\r\n        onChange={handleChange}\r\n        placeholder=\"Чем вы занимаетесь?\"\r\n        minLength=\"2\"\r\n        maxLength=\"200\"\r\n        required\r\n        noValidate\r\n      />\r\n      <span className=\"popup__input-error\" id=\"input-about-error\"></span>\r\n    </>\r\n  );\r\n\r\n  return (\r\n    <PopupWithForm\r\n      title=\"Редактировать данные\"\r\n      name=\"edit-profile\"\r\n      children={editProfileFormContent}\r\n      isOpen={isOpen}\r\n      onClosePopup={onClose}\r\n      onSubmit={handleSubmit}\r\n    />\r\n  );\r\n}\r\n","import React, { useRef } from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nexport default function EditAvatarPopup({ isOpen, onClose, onUpdateAvatar }) {\r\n  const inputRef = useRef();\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    onUpdateAvatar({\r\n      avatarLink: inputRef.current.value,\r\n    });\r\n  }\r\n\r\n  const addAvatarFormContent = (\r\n    <>\r\n      <input\r\n        ref={inputRef}\r\n        className=\"popup__input popup__input_type_edit-avatar\"\r\n        id=\"avatar-link\"\r\n        type=\"text\"\r\n        name=\"avatar\"\r\n        placeholder=\"Ссылка на изображение\"\r\n        minLength=\"1\"\r\n        maxLength=\"200\"\r\n      />\r\n      <span className=\"popup__input-error\" id=\"avatar-link-error\"></span>\r\n    </>\r\n  );\r\n  return (\r\n    <PopupWithForm\r\n      title=\"Обновить аватар\"\r\n      name=\"edit-avatar\"\r\n      children={addAvatarFormContent}\r\n      isOpen={isOpen}\r\n      onClosePopup={onClose}\r\n      onSubmit={handleSubmit}\r\n    />\r\n  );\r\n}\r\n","import React, { useState } from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nexport default function AddPlacePopup({ isOpen, onClose, onAddNewPlace }) {\r\n  const [title, setTitle] = useState(\"\");\r\n  const [link, setLink] = useState(\"\");\r\n\r\n  function handleChange(e) {\r\n    e.target.name === \"title\"\r\n      ? setTitle(e.target.value)\r\n      : setLink(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    onAddNewPlace({\r\n      dataName: title,\r\n      dataLink: link,\r\n    });\r\n  }\r\n\r\n  const addPlaceFormContent = (\r\n    <>\r\n      <input\r\n        className=\"popup__input popup__input_type_place\"\r\n        id=\"input-place\"\r\n        value={title || \"\"}\r\n        onChange={handleChange}\r\n        type=\"text\"\r\n        name=\"title\"\r\n        placeholder=\"Название\"\r\n        minLength=\"1\"\r\n        maxLength=\"30\"\r\n        required\r\n        noValidate\r\n      />\r\n      <span className=\"popup__input-error\" id=\"input-place-error\"></span>\r\n      <input\r\n        className=\"popup__input popup__input_type_link\"\r\n        id=\"input-link\"\r\n        value={link || \"\"}\r\n        onChange={handleChange}\r\n        type=\"url\"\r\n        name=\"link\"\r\n        placeholder=\"Ссылка на картинку\"\r\n        required\r\n        noValidate\r\n      />\r\n      <span className=\"popup__input-error\" id=\"input-link-error\"></span>\r\n    </>\r\n  );\r\n\r\n  return (\r\n    <PopupWithForm\r\n      title=\"Новое место\"\r\n      name=\"add-place\"\r\n      children={addPlaceFormContent}\r\n      isOpen={isOpen}\r\n      onClosePopup={onClose}\r\n      onSubmit={handleSubmit}\r\n    />\r\n  );\r\n}\r\n","import React from 'react';\r\n\r\nfunction ImagePopup({card, name, onClosePopup}) {\r\n\r\n    return (\r\n        <div className={`popup popup_type_${name} ${card && 'popup_opened'}`} >\r\n            <div className=\"popup__container popup__container_type_image\">\r\n                <img className=\"popup__image\" src={card && card.link} alt={card && card.name} />\r\n                <p className=\"popup__capture\">{card && card.name}</p>\r\n                <button className=\"button popup__close-button popup__close-button_type_image change-opacity\" type=\"button\" aria-label=\"Закрыть окно\" onClick={onClosePopup}></button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ImagePopup;","import React, { useEffect, useState } from \"react\";\nimport request from \"../utils/Api\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\nimport Header from \"./Header\";\nimport Main from \"./Main\";\nimport Footer from \"./Footer\";\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport AddPlacePopup from \"./AddPlacePopup\";\nimport ImagePopup from \"./ImagePopup\";\n\nfunction App() {\n  const [isEditProfilePopupOpen, setEditProfilePopupState] = useState(false);\n  const [isAddPlacePopupOpen, setAddPlacePopupState] = useState(false);\n  const [isEditAvatarPopupOpen, setEditAvatarPopupState] = useState(false);\n  const [selectedCard, setSelectedCard] = useState(undefined);\n  const [cards, setCards] = useState([]);\n  const [currentUser, setCurrentUser] = useState({});\n\n  useEffect(() => {\n    Promise.all([request.getUserData(), request.getCardList()])\n    .then(\n      ([userData, cardList]) => {\n        setCurrentUser({\n          name: userData.name,\n          description: userData.about,\n          avatar: userData.avatar,\n          currentUserId: userData._id,\n        });\n        setCards(cardList);\n      }\n    )\n    .catch(err => console.log(err))\n  }, []);\n\n  // ↑ Запрашиаем с сервера список карточек и данные о пользователе\n\n  //Обработчик лайков карточек\n  function handleLikeClick(card) {\n    const isLiked = card.likes.some((i) => i._id === currentUser.currentUserId);\n\n    request.changeLike(card, isLiked)\n    .then((newCard) => {\n      const newCards = cards.map((c) => (c._id === card._id ? newCard : c));\n      setCards(newCards);\n    })\n    .catch(err => console.log(err))\n  }\n\n  // Обработчик удаления карточек\n  function handleDeleteClick(card) {\n    request.deleteCard(card)\n    .then((data) => {\n      const newCards = cards.filter((c) => c._id !== card._id);\n      setCards(newCards);\n    })\n    .catch(err => console.log(err))\n  }\n\n  //Обработчик обновления информации о пользователе\n  function handleUpdateUser(newUserData) {\n    request.editUserInfo(newUserData)\n    .then((userData) => {\n      setCurrentUser({\n        name: userData.name,\n        description: userData.about,\n        avatar: userData.avatar,\n        currentUserId: userData._id,\n      });\n      closeAllPopups();\n    })\n    .catch(err => console.log(err))\n  }\n\n  //Обработчик обновления аватара\n  function handleUpdateAvatar(newAvatarLink) {\n    request.addUserAvatar(newAvatarLink)\n    .then((userData) => {\n      setCurrentUser({\n        name: userData.name,\n        description: userData.about,\n        avatar: userData.avatar,\n        currentUserId: userData._id,\n      })\n      closeAllPopups()\n    })\n    .catch(err => console.log(err))\n  }\n\n  //Обработчик добавления новой карточки\n  function handleAddNewPlace(newCardData) {\n    request.addNewCard(newCardData)\n    .then((newCard) => {\n      setCards([newCard, ...cards]);\n      closeAllPopups();\n    })\n    .catch(err => console.log(err))\n  }\n\n  // Обработчик, раскрывающий изображение карточки в полном формате\n\n  function handleCardClick(card) {\n    setSelectedCard(card);\n  }\n\n  //Обработчики, открывающие и закрывающие модалки\n\n  function handleEditAvatarClick() {\n    setEditAvatarPopupState(true);\n  }\n\n  function handleEditProfileClick() {\n    setEditProfilePopupState(true);\n  }\n\n  function handleAddPlaceClick() {\n    setAddPlacePopupState(true);\n  }\n\n  function closeAllPopups() {\n    setSelectedCard(undefined);\n    setEditAvatarPopupState(false);\n    setEditProfilePopupState(false);\n    setAddPlacePopupState(false);\n  }\n\n  return (\n    <div className=\"page\">\n      <div className=\"page__container\">\n        <CurrentUserContext.Provider value={currentUser}>\n          <Header />\n          <Main\n            onEditProfile={handleEditProfileClick}\n            onAddPlace={handleAddPlaceClick}\n            onEditAvatar={handleEditAvatarClick}\n            onCardClick={handleCardClick}\n            cards={cards}\n            onCardLike={handleLikeClick}\n            onCardDelete={handleDeleteClick}\n          />\n          <Footer />\n          <EditProfilePopup\n            isOpen={isEditProfilePopupOpen}\n            onClose={closeAllPopups}\n            onUpdateUser={handleUpdateUser}\n          />\n          <EditAvatarPopup\n            isOpen={isEditAvatarPopupOpen}\n            onClose={closeAllPopups}\n            onUpdateAvatar={handleUpdateAvatar}\n          />\n          <AddPlacePopup\n            isOpen={isAddPlacePopupOpen}\n            onClose={closeAllPopups}\n            onAddNewPlace={handleAddNewPlace}\n          />\n          <ImagePopup\n            card={selectedCard}\n            name=\"full-image\"\n            onClosePopup={closeAllPopups}\n          />\n        </CurrentUserContext.Provider>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n","module.exports = __webpack_public_path__ + \"static/media/logo.2b1f7ee5.svg\";"],"sourceRoot":""}